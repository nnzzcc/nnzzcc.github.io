<!--********************************************************************
* Copyright© 2000 - 2019 SuperMap Software Co.Ltd. All rights reserved.
*********************************************************************-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>iClient for OpenLayers 产品介绍</title>
    <link rel="shortcut icon" type="image/x-icon" href="../img/favicon.ico"/>
    <link rel="stylesheet" href="../css/introduction.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
    <script type="text/javascript" include='openlayers,iclient9-openlayers,g6,isIntroduction'
            src="../js/include.js"></script>
</head>
<body class="hold-transition skin-blue">

<!--顶部导航-->
<header class="header-wrapper main-header icl-header"></header>
<script>
    var identification = {
        name: "OpenLayers"
    };
    var navigation = {
        nav: {
            title: "SuperMap iClient JavaScript 9D(2019)",
            path: "../../web/",
            isLocal: window.isLocal
        }
    };
    utils.loadTemplate(".icl-header", "../template/header.html", navigation);
</script>
<!--顶部导航 end-->

<!--内容区-->
<div class="container icl-docs-container">
    <div class="row">
        <!--左侧导航-->
        <div class="col-md-3" role="complementary">
            <nav class="icl-docs-sidebar hidden-print hidden-xs hidden-sm affix-top">
                <ul class="nav icl-docs-sidenav">
                    <li><a href="#introduce">产品介绍</a></li>

                    <li><a href="#download">下载</a></li>

                    <li><a href="#modules">模块说明</a></li>

                    <!--新特性-->
                    <li><a href="#newAttributes">新特性</a></li>
                    <!--新特性结束-->

                    <li><a href="#dependence">相关依赖</a></li>

                    <li><a href="#license">许可说明</a></li>
                </ul>
                <a class="back-to-top" href="#top">返回顶部</a>
            </nav>
        </div>
        <!--右侧内容区-->
        <div class="col-md-9" id="main-content" role="main">
            <div class="icl-docs-header">
                <h1 class="product">SuperMap iClient for OpenLayers</h1>
            </div>
            <div class="section icl-docs-section">
                <h2 id="introduce" class="section-title">产品介绍</h2>
                <p class="lead">SuperMap iClient for OpenLayers 是一套基于 OpenLayers 的云 GIS 网络客户端开发平台，
                    支持访问 SuperMap iServer / iEdge / iPortal / iManager / Online 的地图、服务和资源，为用户提供了完整专业的 GIS 能力，
                    同时提供了优秀的可视化功能。
                </p>
                <p class="lead">GitHub 托管地址：<a
                        href="https://github.com/SuperMap/iClient-JavaScript/tree/master/src/openlayers"
                        target="_blank">https://github.com/SuperMap/iClient-JavaScript/tree/master/src/openlayers</a>
                </p>
                <p class="lead">OSChina 托管地址：<a href="https://gitee.com/isupermap/iClient9/tree/master/src/openlayers"
                                               target="_blank">https://gitee.com/isupermap/iClient9/tree/master/src/openlayers</a>
                </p>
            </div>
            <div class="section icl-docs-section">
                <h2 id="download" class="section-title">下载</h2>
                <div style="text-align:center;margin:0 auto;margin-top: 30px">
                    <a target="_blank"
                       href="../download/download.html"
                       class="btn btn-outline-inverse btn-lg">进入下载页</a>
                </div>
            </div>
            <div class="section icl-docs-section">
                <h2 id="modules" class="section-title">模块说明</h2>
                <p class="lead"></p>
                <div class="highlight">
                    <div id="moduleIntro"></div>
                </div>
            </div>
            <!--新特性-->
            <div class="section icl-docs-section">
                <div class="new-attributes">
                    <h2 id="newAttributes" class="section-title">新特性</h2>
                     <!--911 新特性-->
                     <div style="font-weight: bold;font-size:18px;color:#C70022">9.1.1
                        <span style="vertical-align: super;font-size:10px"></span></div>
                        <div class="panel-body">
                            <div class="news-list">
                                    <div class="news-item-img">
                                            <div class="news-box-img"></div>
                                    </div>
                            </div>
                        </div>
                     <!--911 新特性结束-->
                    <!--910 新特性-->
                    <div style="font-weight: bold;font-size:18px;color:#C70022">9.1.0
                        <span style="vertical-align: super;font-size:10px"></span></div>
                    <div class="panel-body">
                        <div class="news-list">
                            <div class="news-item-img">
                                <div class="news-box-img">
                                    <div class='news-img' style='background: no-repeat center url("../img/whatsNewNewyorkTaxi.gif")'><a
                                            href="../../examples/openlayers/editor.html#07_graphiclayer_webgl2" target="_blank"></a></div>
                                    <div class='news-info-container'>
                                        <div class='news-info-title'>
                                            <div class='news-title-href'><a href="../../examples/openlayers/editor.html#07_graphiclayer_webgl2"
                                                    style='color: inherit; font-size: inherit; font-weight: inherit;' target="_blank">高效率点图层渲染性能升级</a></div>
                                        </div>
                                        <p class="new-attributes_content">
                                            高效率点图层支持数据量由之前的30万提升至100万<br>
                                            性能提升至3倍以上，百万点数据1秒内完成渲染<br>
                                            并支持 GeoJSON，TopoJSON，二维表等多种数据格式，支持修改样式，支持属性筛选、鼠标事件等交互操作
                                        </p>
                                    </div>

                                </div>
                            </div>
                            <div class="news-item-img">
                                <div class="news-box-img">
                                    <div class='news-img' style='background: no-repeat center url("../img/whatsNewEchartsBejingRoads.gif")'><a
                                            href="../../examples/openlayers/editor.html#echarts_linesDrawMillionsBeijingRoadsNetwork"
                                            target="_blank"></a></div>
                                    <div class='news-info-container'>
                                        <div class='news-info-title'>
                                            <div class='news-title-href'><a href="../../examples/openlayers/editor.html#echarts_linesDrawMillionsBeijingRoadsNetwork"
                                                    style='color: inherit; font-size: inherit; font-weight: inherit;' target="_blank">对接最新 ECharts，渲染千万级数据</a></div>
                                        </div>
                                        <p class="new-attributes_content">
                                            对接最新 ECharts 4.1.0，新增增量渲染能力，支持千万级数据的可视化渲染
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="news-item-img">
                                <div class="news-box-img">
                                    <div class='news-img' style='background: no-repeat center url("../img/whatsNewMvtvectorlayerMbstyleLanduse.png")'><a
                                            href="../../examples/openlayers/editor.html#mvtvectorlayer_mbstyle_landuse" target="_blank"></a></div>
                                    <div class='news-info-container'>
                                        <div class='news-info-title'>
                                            <div class='news-title-href'><a href="../../examples/openlayers/editor.html#mvtvectorlayer_mbstyle_landuse"
                                                    style='color: inherit; font-size: inherit; font-weight: inherit;' target="_blank">MVT 矢量瓦片支持多种坐标系
                                                </a></div>
                                        </div>
                                        <p class="new-attributes_content">
                                            基于 Mapbox GL JS、OpenLayers 等地图库，实现对 Mapbox Vector Tile(MVT) 矢量瓦片开放标准的支持<br>
                                            可交互、可在线编辑的地图风格，更换样式无需反复制图、重新切片<br>
                                            支持 Web Mercator、WGS84、China2000 等标准坐标系

                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="news-item-img">
                                <div class="news-box-img">
                                    <div class='news-img' style='background: no-repeat center url("../img/whatsNewApi.png")'><a href="../apis/openlayers.html" target="_blank"></a></div>
                                    <div class='news-info-container'>
                                        <div class='news-info-title'>
                                            <div class='news-title-href'><a href="../apis/openlayers.html" style='color: inherit; font-size: inherit; font-weight: inherit;'
                                                    target="_blank">API 文档优化</a></div>
                                        </div>
                                        <p class="new-attributes_content">
                                            优化 API 文档<br>
                                            整理文档内容、优化文档显示格式、完善接口参数及其使用描述<br>
                                            极大的提升文档的可读性与实用性
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--910 新特性结束-->
                    <div style="font-weight: bold;font-size:18px;color:#C70022;padding-left:18px;padding-top:15px">9.0.1</div>
                    <div class="panel-body">
                        <div class="news-list">
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        进行了代码模块化，支持开发时使用 JavaScript ES6 标准的 import 语法进行模块化引入
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        发布 npm 项目，地址：<a target="_blank"
                                                      href="https://www.npmjs.com/package/@supermap/iclient-openlayers"
                                                      style="color:#191970">https://www.npmjs.com/package/@supermap/iclient-openlayers</a>
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        集成 Turf.js，提供空间分析、拓扑分析、等值分析、量算等客户端计算能力， 无需连接 GIS 服务也可在客户端快速的进行各种常用的空间操作
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        分布式分析服务中新增缓冲区分析、拓扑检查分析、叠加分析、属性汇总分析服务
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        单对象查询分析、矢量裁剪分析服务新增支持自定义绘制范围进行分析
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        新增 ECharts 可视化图层
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        新增客户端标签专题图图层
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        WebMap 支持加载专题图层
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 9.0.1 -->
                    <div style="font-weight: bold;font-size:18px;color:#C70022;padding-left:18px;padding-top:15px">
                        9.0.0
                    </div>
                    <div class="panel-body">
                        <div class="news-list">
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        完成对 SuperMap iServer 中基础服务的对接
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        支持访问 SuperMap iServer 的分布式分析服务，提供密度分析、格网聚合分析、单对象查询分析、区域汇总分析、矢量剪裁分析功能
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        支持访问 SuperMap iServer 的地址匹配服务，提供正向匹配和反向匹配功能
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        支持访问 SuperMap iServer 的数据流服务
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        支持基于 Elasticsearch 的时序热力图、航班监控等可视化效果
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        支持 Mapbox 矢量瓦片标准，为用户提供了更多可在客户端自由更改样式的地图风格
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        新增高效率点图层，支持10万+点要素在浏览器端高效流畅的绘制
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        集成 ECharts 常用可视化效果：散点地图、折线图、柱状图、饼图
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        集成数据可视化开源库 MapV，提供蜂巢图、通勤图、强边界图、迁徙图、动态轨迹图、面绘制、线绘制以及海量点数据的绘制
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        集成 OSMBuildings，实现建筑立体效果可视化
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        新增缓存切换控件，支持用户在客户端进行多版本缓存切换
                                    </p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div class="decoration">
                                    <div class="news-circle">
                                        <div class="solid-circle"></div>
                                    </div>
                                </div>
                                <div class="news-box">
                                    <p class="new-attributes_content" style="margin: 0">
                                        更简单的访问 SuperMap iPortal 和 SuperMap Online 中用户配置的地图
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--新特性 end-->
            <!--相关依赖-->
            <div class="section icl-docs-section">
                <h2 id="dependence" class="section-title">相关依赖</h2>
                <div class="logos">
                    <div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">
                        <div class="bundle-wrapper">
                            <a href="http://openlayers.org/" target="_blank">
                                <img style="height:40px" src="../img/lib/OpenLayers.png">
                            </a>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">
                        <div class="bundle-wrapper">
                            <a href="http://echarts.baidu.com/" target="_blank">
                                <img style="height:40px" src="../img/lib/ECharts.png">
                            </a>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">
                        <div class="bundle-wrapper">
                            <a href="http://mapv.baidu.com/" target="_blank">
                                <img style="height:50px" src="../img/lib/MapV.png">
                            </a>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">
                        <div class="bundle-wrapper">
                            <a href="http://turfjs.org/" target="_blank">
                                <img style="height:50px;margin-top: 17px" src="../img/lib/Turfjs.png">
                            </a>
                        </div>
                    </div>
                    <!--暂时无此示例-->
                    <!--<div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">-->
                    <!--<div class="bundle-wrapper">-->
                    <!--<a href="https://www.elastic.co/products/elasticsearch/" target="_blank">-->
                    <!--<img src="../img/lib/elasticsearch.png">-->
                    <!--</a>-->
                    <!--</div>-->
                    <!--</div>-->
                    <div class="col-md-4 col-sm-4 bundle text-center bundle-region bundle-region-hl">
                        <div class="bundle-wrapper">
                            <a href="https://osmbuildings.org/" target="_blank">
                                <img style="margin-top: 20px" src="../img/lib/osmbuidings.png">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!--相关依赖end-->
            <div class="section icl-docs-section">
                <h2 id="license" class="section-title">许可说明</h2>
                <a href="https://github.com/SuperMap/iClient-JavaScript/blob/master/LICENSE" target="_blank">
                    <p class="lead">Apache License 2.0</p>
                </a>
            </div>
        </div>

    </div>
</div>
<!--内容区 end-->

<!--footer-->
<footer class="main-footer icl-footer"></footer>
<script>
    utils.loadTemplate(".icl-footer", "../template/footer.html", navigation);
</script>
<!--footer end-->

<script type="text/javascript" src="../js/common.js"></script>
<script>
    /*Base Map*/
    var host = window.isLocal ? window.server : "http://support.supermap.com.cn:8090";
    var url = host + "/iserver/services/map-world/rest/maps/World";
    var olMap = new ol.Map({
        target: 'map',
        /* interactions: ol.interaction.defaults({
         mouseWheelZoom: false
         }),*/
        view: new ol.View({
            center: [100.94, 35.49],
            zoom: 4,
            maxZoom: 10,
            minZoom: 0,
            projection: 'EPSG:4326'
        }),
        layers: [new ol.layer.Tile({
            source: new ol.source.TileSuperMapRest({
                url: url
            }),
            projection: 'EPSG:4326'
        })]
    });
</script>
<script>
    var data = NodesConversionTool.depsToNodes("openlayers");

    var Util = G6.Util;
    // 准备布局配置
    var layoutCfg = {
        "direction": "LR",
        "nodeSep": 20,
        "nodeSize": 20,
        "rankSep": 200
    };
    // 自定义树节点
    var DEFAULT_NODE_SIZE = 5;
    G6.registNode('treeNode', {
        draw(cfg, group) {
            var origin = cfg.origin;
            var r = layoutCfg.nodeSize ? layoutCfg.nodeSize / 2 : DEFAULT_NODE_SIZE;
            var shapeCfg = {
                attrs: {
                    x: cfg.x,
                    y: cfg.y,
                    r: r,
                    stroke: '#003380',
                    fill: 'white',
                    fillOpacity: 1,
                },
            };
            if (origin.children && origin.children.length) {
                shapeCfg.class = origin.isCollapsed ? 'spreadoutButton' : 'collapseButton';
                shapeCfg.attrs.fill = '#044A9A';
                shapeCfg.attrs.stroke = '#003380';
                shapeCfg.attrs.fillOpacity = 0.4;
            }
            if (origin.root) {
                shapeCfg.attrs.fill = '#044A9A';
                shapeCfg.attrs.stroke = '#003380';
                shapeCfg.attrs.fillOpacity = 0.7;
            }
            shapeCfg.attrStash = Util.mix({}, shapeCfg.attrs);
            return group.addShape('circle', shapeCfg);
        },
        afterDraw(cfg, group) {
            var origin = cfg.origin;
            var r = layoutCfg.nodeSize ? layoutCfg.nodeSize / 2 : DEFAULT_NODE_SIZE;
            var align = origin.align;
            var labelAttrs = {
                text: origin.name,
                fill: '#666',
                textBaseline: 'middle',
                fontSize: 35,
                x: cfg.x + r + DEFAULT_NODE_SIZE,
                y: cfg.y,
                textAlign: 'left',
            };
            if (align === 'R') {
                Util.mix(labelAttrs, {
                    x: cfg.x - r - DEFAULT_NODE_SIZE,
                    y: cfg.y,
                    textAlign: 'right',
                });
            } else if (align === 'T' || align === 'CH') {
                Util.mix(labelAttrs, {
                    x: cfg.x,
                    y: cfg.y + r + DEFAULT_NODE_SIZE,
                    textAlign: 'right',
                    rotate: -Math.PI / 2,
                });
            } else if (align === 'B') {
                Util.mix(labelAttrs, {
                    x: cfg.x,
                    y: cfg.y - r - DEFAULT_NODE_SIZE,
                    textAlign: 'left',
                    rotate: -Math.PI / 2,
                });
            }
            var label = group.addShape('text', {
                attrs: labelAttrs,
            });
            return label;
        }
    });
    // 生成树图实例
    var tree = new G6.Tree({
        id: 'moduleIntro',                            // 容器ID
        height: 600,                         // 画布高
        fitView: 'autoZoom',                 // 自动缩放
        layoutFn: G6.Layout.LayeredTidyTree, // 布局类型
        layoutCfg: layoutCfg,                // 布局配置
        showButton: false,
    });
    // 加载数据
    tree.source(data);
    tree.node().shape('treeNode');
    tree.edge()
        .shape('smooth')
        .style({
            stroke: '#A9BCD3'
        });
    tree.tooltip(true);
    tree.tooltip({split: ''});
    tree.node().tooltip(function (obj) {
        return [
            [obj.des]
        ]
    });
    // 渲染树图
    tree.render();
    //添加事件
    tree.on('itemclick', function (ev) {
        if (ev.shape.__cfg.type !== 'circle' && ev.shape.__cfg.type !== 'path' && !ev.item.get('model').children && ev.item.get('model').name) {
            window.open("../../docs/openlayers/" + ev.item.get('model').name + ".html");
        }
    });
    tree.on('mouseenter', function (ev) {
        if (ev.itemType === 'edge') {
            return;
        }
        var shape = ev.shape;
        if (shape.__cfg.type !== 'circle') {
            shape._setAttr("fill", "#C70022");
            tree.refresh();
        }
    });
    tree.on('mousemove', function (ev) {
        $('#canvas_2').css('cursor', 'pointer');
    });
    tree.on('mouseleave', function (ev) {
        if (ev.itemType === 'edge') {
            return;
        }
        var shape = ev.shape;
        if (shape.__cfg.type !== 'circle') {
            shape._setAttr("fill", "#666");
            tree.refresh();
        }
    });
</script>
</body>
</html>