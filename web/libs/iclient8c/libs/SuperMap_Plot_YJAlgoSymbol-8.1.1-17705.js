/*!
 * 
 *          iclient-plot-algorithms-yj.(http://iclient.supermap.io)
 *          CopyrightÂ© 2000 - 2018 SuperMap Software Co.Ltd
 *          license: undefined
 *          version: v9.1.0
 *         
 */!function(t){var e={};function o(l){if(e[l])return e[l].exports;var i=e[l]={i:l,l:!1,exports:{}};return t[l].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,l){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(l,i,function(e){return t[e]}.bind(null,i));return l},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=14)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol610100=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.05),o.scaleValues.push(.01)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=[];e=3>=t.length?SuperMap.Plot.Primitives.getSpatialData(SuperMap.Plot.SymbolType.KIDNEY,t):SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),e=SuperMap.Plot.PlottingUtil.clearSamePts(e),this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(),this.scaleValues[1]=.0625*this.getSubSymbolScaleValue());for(var o=SuperMap.Plot.PlottingUtil.polylineDistance(t),l=o*this.scaleValues[0],i=o*this.scaleValues[1],n=e[0],r=0,a=1;a<e.length;a++){var p=e[a],u=SuperMap.Plot.PlottingUtil.distance(n,p);switch(r%4){case 0:if(u>=l){var s=SuperMap.Plot.PlottingUtil.findPointInLine(n,p,l);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[n,s]),n=s,r++,a--}break;case 1:case 3:var P=3*i;if(u>P)n=SuperMap.Plot.PlottingUtil.findPointInLine(n,p,P),r++,a--;break;case 2:if(u>2*i){var c=SuperMap.Plot.PlottingUtil.findPointInLine(n,p,2*i);this.addCell(SuperMap.Plot.SymbolType.CIRCLESYMBOL,[new SuperMap.Geometry.Point(.5*(n.x+c.x),.5*(n.y+c.y)),c],{fillLimit:!0,fill:!0}),n=c,r++,a--}}}this.finish()}}}]),e}();SuperMap.Plot.AlgoSymbol610100=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol530200=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues[0]=.05,o.scaleValues[1]=.05),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[0]=this.getSubSymbolScaleValue(),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMap.Plot.PlottingUtil.polylineDistance(t),o=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);o=SuperMap.Plot.PlottingUtil.clearSamePts(o);var l=e*this.scaleValues[0],i=this.getLinePts(o,this.scaleValues[0],5/14),n=this.getLinePts(o,this.scaleValues[0],9/14),r=new SuperMap.Geometry.Point((i.startPt.x+i.endPt.x)/2,(i.startPt.y+i.endPt.y)/2),a=180*SuperMap.Plot.PlottingUtil.radian(i.startPt,i.endPt)/Math.PI;this.createSubSymbol(r,l,a);var p=new SuperMap.Geometry.Point((n.startPt.x+n.endPt.x)/2,(n.startPt.y+n.endPt.y)/2),u=180*SuperMap.Plot.PlottingUtil.radian(n.startPt,n.endPt)/Math.PI;this.createSubSymbol(p,l,u);var s=SuperMap.Plot.PlottingUtil.circlePoint(p,.5*l,.5*l,u+90);this.addScalePoint(s);for(var P=[],c=[],S=[],y=0;y<=i.startIndex;y++)P.push(o[y]);if(P.push(i.startPt),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,P),i.endIndex<=n.startIndex){c.push(i.endPt);for(var h=i.endIndex+1;h<=n.startIndex;h++)c.push(o[h]);c.push(n.startPt),2===o.length&&SuperMap.Plot.PlottingUtil.distance(o[0],i.endPt)<=SuperMap.Plot.PlottingUtil.distance(o[0],n.startPt)&&this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,c),o.length>2&&this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,c)}S.push(n.endPt);for(var f=n.endIndex+1;f<o.length;f++)S.push(o[f]);this.addArrow(S,this.scaleValues[1]),this.finish()}}},{key:"createSubSymbol",value:function(t,e,o){var l=this.getSubSymbolPts1(e);this.createSubSymbol1(t,e,o,l);var i=this.getSubSymbolPts2(e);this.createSubSymbol2(t,e,o,i)}},{key:"createSubSymbol2",value:function(t,e,o,l){for(var i=[],n=0;n<l.length;n++){var r=SuperMap.Plot.PlottingUtil.coordinateTrans(t,l[n],o);i.push(r)}this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,i)}},{key:"createSubSymbol1",value:function(t,e,o,l){for(var i=[],n=0;n<l.length;n++){var r=SuperMap.Plot.PlottingUtil.coordinateTrans(t,l[n],o);i.push(r)}this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,i)}},{key:"getSubSymbolPts1",value:function(t){var e=t/2,o=[];return o.push(new SuperMap.Geometry.Point(2*e,0)),o.push(new SuperMap.Geometry.Point(0,e)),o.push(new SuperMap.Geometry.Point(-2*e,0)),o.push(new SuperMap.Geometry.Point(0,-e)),o}},{key:"getSubSymbolPts2",value:function(t){var e=t/2,o=[];return o.push(new SuperMap.Geometry.Point(-e,e)),o.push(new SuperMap.Geometry.Point(e,e)),o}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!==t&&1!==t)return;var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMap.Plot.PlottingUtil.clearSamePts(l);var i=SuperMap.Plot.PlottingUtil.polylineDistance(l),n=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(9*i/14,l),r=2*SuperMap.Plot.PlottingUtil.distance(n.pts,e)/i;r<=.3&&(this.scaleValues[0]=r)}}}]),e}();SuperMap.Plot.AlgoSymbol530200=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol530100=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues[0]=.05,o.scaleValues[1]=.05),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMap.Plot.PlottingUtil.clearSamePts(e);var o=SuperMap.Plot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=this.getLinePts(e,this.scaleValues[0]),i=new SuperMap.Geometry.Point((l.startPt.x+l.endPt.x)/2,(l.startPt.y+l.endPt.y)/2),n=180*SuperMap.Plot.PlottingUtil.radian(l.startPt,l.endPt)/Math.PI,r=SuperMap.Plot.PlottingUtil.distance(l.startPt,l.endPt);if(0<this.subSymbols.length)this.computeSubSymbol(this.subSymbols[0],i,r,n-90);else{var a=new SuperMap.Geometry.Point(-.5*r,.25*r),p=new SuperMap.Geometry.Point(-.5*r,-.25*r),u=SuperMap.Plot.PlottingUtil.coordinateTrans(i,a,n),s=SuperMap.Plot.PlottingUtil.coordinateTrans(i,p,n);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[u,s]);var P=new SuperMap.Geometry.Point(-.5*r,.125*r),c=new SuperMap.Geometry.Point(.25*r,.125*r),S=new SuperMap.Geometry.Point(.5*r,0),y=new SuperMap.Geometry.Point(.25*r,-.125*r),h=new SuperMap.Geometry.Point(-.5*r,-.125*r),f=SuperMap.Plot.PlottingUtil.coordinateTrans(i,P,n),g=SuperMap.Plot.PlottingUtil.coordinateTrans(i,c,n),M=SuperMap.Plot.PlottingUtil.coordinateTrans(i,S,n),b=SuperMap.Plot.PlottingUtil.coordinateTrans(i,y,n),m=SuperMap.Plot.PlottingUtil.coordinateTrans(i,h,n);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[f,g,M,b,m])}for(var d=[],v=[],O=0;O<=l.startIndex;O++)d.push(e[O]);if(d.push(l.startPt),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,d),l.endIndex<=e.length){v.push(l.endPt);for(var U=l.endIndex+1;U<=e.length-1;U++)v.push(e[U]);this.addDovetailArrow(v,this.scaleValues[1])}var w=SuperMap.Plot.PlottingUtil.circlePoint(i,.5*r,.5*r,n+90);this.addScalePoint(w,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMap.Plot.PlottingUtil.clearSamePts(l);var i=SuperMap.Plot.PlottingUtil.polylineDistance(l),n=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(.5*i,l),r=2*SuperMap.Plot.PlottingUtil.distance(n.pts,e)/i;this.scaleValues[0]=r<=.5?r:.5}}}]),e}();SuperMap.Plot.AlgoSymbol530100=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol520500=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.02),o.scaleValues.push(.01)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMap.Plot.PlottingUtil.clearSamePts(e);var o=SuperMap.Plot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.15*this.getSubSymbolScaleValue(o));var l=.5*o,i=180*SuperMap.Plot.PlottingUtil.radian(t[0],t[1])/Math.PI,n=o*this.scaleValues[0],r=Math.sqrt(n*n+n*n)+n/2,a=l-r,p=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(a,e).pts,u=this.computeXPts(p,n,e,i),s=[];s.push(new SuperMap.Geometry.Point(u[0].x,u[0].y)),s.push(new SuperMap.Geometry.Point(u[1].x,u[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,s);var P=[];P.push(new SuperMap.Geometry.Point(u[2].x,u[2].y)),P.push(new SuperMap.Geometry.Point(u[3].x,u[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,P);var c=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(l,e).pts,S=this.computeXPts(c,n,e,i),y=[];y.push(new SuperMap.Geometry.Point(S[0].x,S[0].y)),y.push(new SuperMap.Geometry.Point(S[1].x,S[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,y);var h=[];h.push(new SuperMap.Geometry.Point(S[2].x,S[2].y)),h.push(new SuperMap.Geometry.Point(S[3].x,S[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,h);var f=l+r,g=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(f,e).pts,M=this.computeXPts(g,n,e,i),b=[];b.push(new SuperMap.Geometry.Point(M[0].x,M[0].y)),b.push(new SuperMap.Geometry.Point(M[1].x,M[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,b);var m=[];m.push(new SuperMap.Geometry.Point(M[2].x,M[2].y)),m.push(new SuperMap.Geometry.Point(M[3].x,M[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,m);var d=l-2*r,v=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(d,e);if(v.bfind){for(var O=v.index,U=v.pts,w=[],L=0;L<=O;L++)w.push(e[L]);w.push(U);var _=o*this.scaleValues[1];this.computeDashLines(w,_)}var x=l+2*r,A=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(x,e);if(A.bfind){var Y=A.index,V=A.pts,E=[];if(Y<=e.length){E.push(V);for(var T=Y+1;T<=e.length-1;T++)E.push(e[T])}this.computeDashLines(E,_)}var j=SuperMap.Plot.PlottingUtil.circlePoint(t[0],r,r,90);this.addScalePoint(j,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMap.Plot.PlottingUtil.clearSamePts(l);var i=SuperMap.Plot.PlottingUtil.polylineDistance(l),n=.5*SuperMap.Plot.PlottingUtil.distance(o[0],e)/i;n>=.12&&(n=.12),this.scaleValues[0]=n}}},{key:"computeXPts",value:function(t,e,o,l){var i=[],n=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+45),r=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+225);i.push(n),i.push(r);var a=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+135),p=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+315);return i.push(a),i.push(p),i}},{key:"computeDashLines",value:function(t,e){for(var o=this.computeDashLine(2*e,2*e,t),l=.5*e,i=0;i<o.length;i++){var n=o[i];if(!((n=SuperMap.Plot.PlottingUtil.clearSamePts(n)).length<=1)){var r=new SuperMap.Geometry.Point(n[0].x,n[0].y),a=new SuperMap.Geometry.Point(n[n.length-1].x,n[n.length-1].y),p=180*SuperMap.Plot.PlottingUtil.radian(r,a)/Math.PI,u=SuperMap.Plot.PlottingUtil.circlePoint(r,l,l,p+90),s=SuperMap.Plot.PlottingUtil.circlePoint(r,l,l,p+270),P=SuperMap.Plot.PlottingUtil.circlePoint(a,l,l,p+90),c=SuperMap.Plot.PlottingUtil.circlePoint(a,l,l,p+270),S=[];S.push(u),S.push(s),S.push(c),S.push(P),this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,S,{fillLimit:!0,fill:!0})}}}}]),e}();SuperMap.Plot.AlgoSymbol520500=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol520300=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.05),o.scaleValues.push(.05)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){0==this.scaleValues.length?(this.scaleValues[0]=.05,this.scaleValues[1]=.05):1==this.scaleValues.length&&(this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!1);e=SuperMap.Plot.PlottingUtil.clearSamePts(e);var o=SuperMap.Plot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.8*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.5*this.getSubSymbolScaleValue());var l=SuperMap.Plot.PlottingUtil.findPointInPolyLine(e,.3*o);if(-1!==l.index){var i=l.pt,n=l.index,r=o*this.scaleValues[0]*.5,a=SuperMap.Plot.PlottingUtil.radian(i,e[n+1])*SuperMap.Plot.PlottingUtil.RTOD,p=SuperMap.Plot.PlottingUtil.circlePoint(i,r,r,a+90),u=SuperMap.Plot.PlottingUtil.circlePoint(i,r,r,a-90),s=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(r,i,p),P=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(r,i,u);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[s.pntLeft,s.pntRight]),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[P.pntLeft,P.pntRight]);var c=SuperMap.Plot.PlottingUtil.findPointInPolyLine(e,.6*o);if(-1!==c.index){var S=c.pt,y=c.index,h=SuperMap.Plot.PlottingUtil.radian(S,e[y+1])*SuperMap.Plot.PlottingUtil.RTOD,f=SuperMap.Plot.PlottingUtil.circlePoint(S,r,r,h+90),g=SuperMap.Plot.PlottingUtil.circlePoint(S,r,r,h-90),M=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(r,S,f),b=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(r,S,g);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[M.pntLeft,M.pntRight]),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[b.pntLeft,b.pntRight]),this.addDovetailArrow(e,this.scaleValues[1]),this.addScalePoint(g,0),this.finish()}}}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(0!=t)return;var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(o=SuperMap.Plot.PlottingUtil.clearSamePts(o),this.minEditPts>o.length)return;var l=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o,!1);l=SuperMap.Plot.PlottingUtil.clearSamePts(l);var i=SuperMap.Plot.PlottingUtil.polylineDistance(l),n=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(.6*i,l);if(!n.bfind)return;var r=2*SuperMap.Plot.PlottingUtil.distance(e,n.pts);this.scaleValues[0]=r/i}}}]),e}();SuperMap.Plot.AlgoSymbol520300=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol520200=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol520100),l(e,[{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMap.Geometry.Point(t.x+o,t.y)),this.addCell(SuperMap.Plot.SymbolType.CIRCLESYMBOL,l);var i=.6*o,n=SuperMap.Plot.PlottingUtil.circlePoint(t,i,i,60),r=new SuperMap.Geometry.Point(t.x-.3*o,t.y),a=SuperMap.Plot.PlottingUtil.circlePoint(t,i,i,240),p=new SuperMap.Geometry.Point(t.x+.3*o,t.y),u=[];u.push(n),u.push(r),u.push(t),u.push(p),u.push(a),u.push(t),this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{fillLimit:!0,fill:!0})}}]),e}();SuperMap.Plot.AlgoSymbol520200=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol520100=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.5),o.scaleValues.push(.03)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){this.isEdit||(this.scaleValues[1]=this.getSubSymbolScaleValue());for(var e=SuperMap.Plot.PlottingUtil.polylineDistance(t),o=this.scaleValues[1]*e,l=this.scaleValues[0]*e,i=SuperMap.Plot.PlottingUtil.findPointInPolyLine(t,l).pt,n=[],r=0;r<t.length;r++){if(r===t.length-1){n.push(t[r]);break}n.push(t[r]);var a=[];if(this.intersectLineAndCircle(t[r],t[r+1],i,o,a))for(var p=0;p<a.length;p++)n.push(a[p])}for(var u=[],s=0;s<n.length;s++){if(s===n.length-1){0!==u.length&&(u.push(n[s]),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,u),u=[]);break}this.isLineInCircle(n[s],n[s+1],i,o)?0!==u.length&&(u.push(n[s]),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,u),u=[]):u.push(n[s])}this.computeSubSymbol(i,2*o),this.addScalePoint(i);var P=new SuperMap.Geometry.Point(i.x+o,i.y);SuperMap.Plot.PlottingUtil.rotateAngle(i,30,P),this.addScalePoint(P),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){if(this.scalePoints.length<=t)return;var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMap.Plot.PlottingUtil.polylineDistance(o);if(0===t){for(var i=0,n=-1,r=null,a=0;a<o.length-1;a++){var p=SuperMap.Plot.PlottingUtil.pointProjectToSegment(e,o[a],o[a+1]);if(SuperMap.Plot.PlottingUtil.pointIsOnPolyLine(p.projectPoint,o[a],o[a+1])){var u=SuperMap.Plot.PlottingUtil.distance(p.projectPoint,e);0===i?(i=u,n=a,r=p.projectPoint):u<i&&(i=u,n=a,r=p.projectPoint)}}if(-1===n)return;for(var s=0,P=0;P<n;P++)s+=SuperMap.Plot.PlottingUtil.distance(o[P],o[P+1]);var c=(s+=SuperMap.Plot.PlottingUtil.distance(r,o[n]))/l;c>1&&(c=1),this.scaleValues[0]=c}if(1===t){var S=this.scaleValues[0]*l,y=SuperMap.Plot.PlottingUtil.findPointInPolyLine(o,S);if(-1===y.index)return;var h=SuperMap.Plot.PlottingUtil.distance(y.pt,e)/l;h>.4&&(h=.4),this.scaleValues[1]=h}}}},{key:"intersectLineAndCircle",value:function(t,e,o,l,i){for(var n=!1,r=SuperMap.Plot.Primitives.getSpatialData(SuperMap.Plot.SymbolType.CIRCLESYMBOL,[o,new SuperMap.Geometry.Point(o.x+l,o.y)]),a=0;a<r.length-1;a++){var p=new SuperMap.Geometry.Point(0,0);SuperMap.Plot.PlottingUtil.intersectLineSegs(t,e,r[a],r[a+1],p)&&(n=!0,i.push(p))}if(t.x>e.x){for(var u=0;u<i.length&&u!==i.length-1;u++)if(i[u].x<i[u+1].x){var s=i[u];i[u]=i[u+1],i[u+1]=s}}else if(t.x<e.x){for(var P=0;P<i.length&&P!==i.length-1;P++)if(i[P].x>i[P+1].x){var c=i[P];i[P]=i[P+1],i[P+1]=c}}else if(t.y>e.y){for(var S=0;S<i.length&&S!==i.length-1;S++)if(i[S].y<i[S+1].y){var y=i[S];i[S]=i[S+1],i[S+1]=y}}else if(t.y<e.y)for(var h=0;h<i.length&&h!==i.length-1;h++)if(i[h].y>i[h+1].y){var f=i[h];i[h]=i[h+1],i[h+1]=f}return n}},{key:"isLineInCircle",value:function(t,e,o,l){var i=new SuperMap.Geometry.Point((t.x+e.x)/2,(t.y+e.y)/2);return SuperMap.Plot.PlottingUtil.distance(i,o)<l}},{key:"computeSubSymbol",value:function(t,e){var o=.5*e,l=[];l.push(t),l.push(new SuperMap.Geometry.Point(t.x+o,t.y)),this.addCell(SuperMap.Plot.SymbolType.CIRCLESYMBOL,l);var i=[];i.push(new SuperMap.Geometry.Point(t.x-o,t.y)),i.push(new SuperMap.Geometry.Point(t.x+o,t.y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,i);var n=new SuperMap.Geometry.Point(t.x+.75*o,t.y),r=.8*o,a=SuperMap.Plot.PlottingUtil.circlePoint(n,r,r,155),p=SuperMap.Plot.PlottingUtil.circlePoint(n,r,r,205),u=[];u.push(a);var s=r*(Math.cos(25*SuperMap.Plot.PlottingUtil.DTOR)-Math.cos(75*SuperMap.Plot.PlottingUtil.DTOR));u.push(new SuperMap.Geometry.Point(n.x-s,n.y)),u.push(p),u.push(n),this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,u,{fillLimit:!0,fill:!0})}}]),e}();SuperMap.Plot.AlgoSymbol520100=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol510100=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.0375),o.scaleValues.push(.025)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMap.Plot.PlottingUtil.clearSamePts(e);var o=SuperMap.Plot.PlottingUtil.polylineDistance(e);this.isEdit||(this.scaleValues[0]=.3*this.getSubSymbolScaleValue(o),this.scaleValues[1]=.35*this.getSubSymbolScaleValue());var l=.5*o,i=180*SuperMap.Plot.PlottingUtil.radian(t[0],t[1])/Math.PI,n=o*this.scaleValues[0],r=Math.sqrt(n*n+n*n)+n/2,a=l-r,p=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(a,e).pts,u=this.computeXPts(p,n,e,i),s=[];s.push(new SuperMap.Geometry.Point(u[0].x,u[0].y)),s.push(new SuperMap.Geometry.Point(u[1].x,u[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,s);var P=[];P.push(new SuperMap.Geometry.Point(u[2].x,u[2].y)),P.push(new SuperMap.Geometry.Point(u[3].x,u[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,P);var c=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(l,e).pts,S=this.computeXPts(c,n,e,i),y=[];y.push(new SuperMap.Geometry.Point(S[0].x,S[0].y)),y.push(new SuperMap.Geometry.Point(S[1].x,S[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,y);var h=[];h.push(new SuperMap.Geometry.Point(S[2].x,S[2].y)),h.push(new SuperMap.Geometry.Point(S[3].x,S[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,h);var f=l+r,g=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(f,e).pts,M=this.computeXPts(g,n,e,i),b=[];b.push(new SuperMap.Geometry.Point(M[0].x,M[0].y)),b.push(new SuperMap.Geometry.Point(M[1].x,M[1].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,b);var m=[];m.push(new SuperMap.Geometry.Point(M[2].x,M[2].y)),m.push(new SuperMap.Geometry.Point(M[3].x,M[3].y)),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,m);for(var d=l-2*r,v=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(d,e),O=v.index,U=v.pts,w=[],L=0;L<=O;L++)w.push(e[L]);w.push(U),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,w);var _=l+2*r,x=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(_,e),A=x.index,Y=x.pts,V=[];if(A<=e.length){V.push(Y);for(var E=A+1;E<=e.length-1;E++)V.push(e[E])}this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,V);var T=e[0],j=e[1],I=e[e.length-2],C=e[e.length-1],B=o*this.scaleValues[1],G=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(B,j,T),N=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(B,I,C),D=[];D.push(T),D.push(G.pntRight),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,D);var R=[];R.push(C),R.push(N.pntLeft),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,R);var k=SuperMap.Plot.PlottingUtil.circlePoint(t[0],r,r,90);this.addScalePoint(k,0),this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(0===t&&!0===e.isScalePoint){var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;var l=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o);l=SuperMap.Plot.PlottingUtil.clearSamePts(l);var i=SuperMap.Plot.PlottingUtil.polylineDistance(l),n=.5*SuperMap.Plot.PlottingUtil.distance(o[0],e)/i;n>=.12&&(n=.12),this.scaleValues[0]=n}}},{key:"computeXPts",value:function(t,e,o,l){var i=[],n=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+45),r=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+225);i.push(n),i.push(r);var a=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+135),p=SuperMap.Plot.PlottingUtil.circlePoint(t,e,e,l+315);return i.push(a),i.push(p),i}}]),e}();SuperMap.Plot.AlgoSymbol510100=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol29101=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol29100),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMap.Plot.Primitives.getSpatialData(SuperMap.Plot.SymbolType.KIDNEY,t):SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMap.Plot.PlottingUtil.clearSamePts(o),this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var i=l*(o.length-1)/4,n=new SuperMap.Geometry.Point(o[i].x,o[i].y),r=new SuperMap.Geometry.Point(o[i+1].x,o[i+1].y),a=new SuperMap.Geometry.Point((n.x+r.x)/2,(n.y+r.y)/2),p=SuperMap.Plot.PlottingUtil.radian(a,r)*SuperMap.Plot.PlottingUtil.RTOD,u=this.scaleValues[0]*e/2,s=SuperMap.Plot.PlottingUtil.circlePoint(a,u,u,p),P=SuperMap.Plot.PlottingUtil.circlePoint(a,4*u,4*u,p+270),c=SuperMap.Plot.PlottingUtil.circlePoint(a,u,u,p+180);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[s,P,c])}this.finish()}}}]),e}();SuperMap.Plot.AlgoSymbol29101=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol29100=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&o.scaleValues.push(.05),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.polylineDistance(t);this.isEdit||(this.scaleValues[0]=.25*this.getSubSymbolScaleValue());var o=[];o=3>=t.length?SuperMap.Plot.Primitives.getSpatialData(SuperMap.Plot.SymbolType.KIDNEY,t):SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t,!0),o=SuperMap.Plot.PlottingUtil.clearSamePts(o),this.addCell(SuperMap.Plot.SymbolType.ARBITRARYPOLYGONSYMBOL,o);for(var l=0;l<4;l++){var i=Math.floor(l*o.length/4),n=new SuperMap.Geometry.Point(o[i].x,o[i].y),r=new SuperMap.Geometry.Point(o[i+1].x,o[i+1].y),a=new SuperMap.Geometry.Point((n.x+r.x)/2,(n.y+r.y)/2),p=SuperMap.Plot.PlottingUtil.radian(r,a)*SuperMap.Plot.PlottingUtil.RTOD,u=this.scaleValues[0]*e/2,s=SuperMap.Plot.PlottingUtil.circlePoint(a,u,u,p),P=SuperMap.Plot.PlottingUtil.circlePoint(a,4*u,4*u,p+270),c=SuperMap.Plot.PlottingUtil.circlePoint(a,u,u,p+180);this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,[s,P,c],{lineTypeLimit:!0,surroundLineLimit:!0})}this.finish()}}}]),e}();SuperMap.Plot.AlgoSymbol29100=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol15200=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.05),o.scaleValues.push(0),o.scaleValues.push(.185)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMap.Plot.PlottingUtil.clearSamePts(e),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,e);for(var o=0,l=0,i=e.length-1;l<i;l++)o+=SuperMap.Plot.PlottingUtil.distance(e[l],e[l+1]);for(var n=0,r=0,a=t.length-1;r<a;r++)n+=SuperMap.Plot.PlottingUtil.distance(t[r],t[r+1]);this.isEdit||(this.scaleValues[0]=.5*this.getSubSymbolScaleValue());for(var p=this.scaleValues[0]*n,u=this.scaleValues[1],s=this.scaleValues[2]*n,P=.3*s,c=s;c<o;c+=s){var S=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(c,e);if(-1===S.index)return void this.finish();var y=c+P,h=SuperMap.Plot.PlottingUtil.getPtsIndexByDistance(y,e);if(-1===h.index)return void this.finish();var f=[],g=[];f.push(S.pts);var M=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(p,e[S.index],S.pts);0===u?f.push(new SuperMap.Geometry.Point(M.pntLeft.x,M.pntLeft.y)):f.push(new SuperMap.Geometry.Point(M.pntRight.x,M.pntRight.y)),g.push(h.pts);var b=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(p,e[h.index],h.pts);if(0===u?g.push(new SuperMap.Geometry.Point(b.pntLeft.x,b.pntLeft.y)):g.push(new SuperMap.Geometry.Point(b.pntRight.x,b.pntRight.y)),s===c){this.scalePoints=[];var m=new SuperMap.Geometry.Point(f[1].x,f[1].y);m.isScalePoint=!0,m.tag=0,this.scalePoints.push(m),(m=new SuperMap.Geometry.Point(f[0].x,f[0].y)).isScalePoint=!0,m.tag=1,this.scalePoints.push(m)}this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,f),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,g)}this.finish()}}},{key:"computeScaleValues",value:function(t,e){if(!0===e.isScalePoint){var o=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if((o=SuperMap.Plot.PlottingUtil.clearSamePts(o)).length<this.minEditPts)return;for(var l=0,i=0,n=o.length-1;i<n;i++)l+=SuperMap.Plot.PlottingUtil.distance(o[i],o[i+1]);var r=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(o),a=new SuperMap.Geometry.Point(e.x,e.y);if(0===t){var p=SuperMap.Plot.PlottingUtil.findPointInPolyLine(r,l*this.scaleValues[2]);if(-1===p.index)return;var u=SuperMap.Plot.PlottingUtil.distance(p.pt,a)/l,s=SuperMap.Plot.PlottingUtil.pointIsRightToLine(r[0],r[1],e);this.scaleValues[1]=s?1:0,this.scaleValues[0]=u}else if(1===t){for(var P=0,c=-1,S=[],y=0,h=r.length-1;y<h;y++){var f=SuperMap.Plot.PlottingUtil.pointProjectToSegment(e,r[y],r[y+1]);if(f.isOnline){var g=SuperMap.Plot.PlottingUtil.distance(f.projectPoint,this.controlPoints[1]);0==P?(P=g,c=y,S=e):g<P&&(P=g,c=y,S=e)}}if(-1==c)return;for(var M=0,b=0,m=c-1;b<m;b++)M+=SuperMap.Plot.PlottingUtil.distance(r[b],r[b+1]);var d=(M+=SuperMap.Plot.PlottingUtil.distance(S,r[c]))/l;d>.7&&(d=.7),this.scaleValues[2]=d}}}}]),e}();SuperMap.Plot.AlgoSymbol15200=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,o,l){return o&&t(e.prototype,o),l&&t(e,l),e}}();var i=e.AlgoSymbol15804=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return 0===o.scaleValues.length&&(o.scaleValues.push(.029615),o.scaleValues.push(1),o.scaleValues.push(.12)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,SuperMap.Plot.AlgoSymbol15800),l(e,[{key:"calculateParts",value:function(){this.init();var t=SuperMap.Plot.PlottingUtil.clonePoints(this.controlPoints);if(!((t=SuperMap.Plot.PlottingUtil.clearSamePts(t)).length<this.minEditPts)){var e=SuperMap.Plot.PlottingUtil.generateBeizerPointsNoCtrlPt(t);e=SuperMap.Plot.PlottingUtil.clearSamePts(e);var o=this.scaleValues[0],l=SuperMap.Plot.PlottingUtil.polylineDistance(t),i=o*l,n=this.scaleValues[2]*l*.5,r=!1;r=0===this.scaleValues[1];var a=SuperMap.Plot.PlottingUtil.polylineDistance(e);if(0!==a){for(var p=[],u=0;u<=a;u+=n){var s=SuperMap.Plot.PlottingUtil.findPointInPolyLine(e,u);if(!(s.index<0)){var P=SuperMap.Plot.PlottingUtil.getSidePointsOfLine(i,e[s.index+1],s.pt);if(r?p.push(P.pntRight):p.push(P.pntLeft),Math.abs(u)<=1e-6){this.scalePoints=[];var c=new SuperMap.Geometry.Point(p[0].x,p[0].y);c.isScalePoint=!0,c.tag=0,this.scalePoints.push(c)}else Math.abs(2*n-u)<=1e-6&&((c=new SuperMap.Geometry.Point(s.pt.x,s.pt.y)).isScalePoint=!0,c.tag=1,this.scalePoints.push(c));r=!r}}this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,p);for(var S=p.length,y=0,h=0;h<S-1;++h){var f=new SuperMap.Geometry.Point(p[h].x,p[h].y),g=new SuperMap.Geometry.Point(p[h+1].x,p[h+1].y);y=.3*SuperMap.Plot.PlottingUtil.distance(f,g);var M=[],b=new SuperMap.Geometry.Point(.5*(f.x+g.x),.5*(f.y+g.y)),m=SuperMap.Plot.PlottingUtil.dirAngle(f,g)*SuperMap.Plot.PlottingUtil.RTOD,d=SuperMap.Plot.PlottingUtil.circlePoint(b,y,y,m+90),v=1.5*y,O=SuperMap.Plot.PlottingUtil.circlePoint(d,v,v,m+260),U=SuperMap.Plot.PlottingUtil.circlePoint(d,v,v,m+280);M.push(O),M.push(d),M.push(U),this.addCell(SuperMap.Plot.SymbolType.POLYLINESYMBOL,M)}this.finish()}}}}]),e}();SuperMap.Plot.AlgoSymbol15804=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlgoSymbol610100=e.AlgoSymbol530200=e.AlgoSymbol530100=e.AlgoSymbol520500=e.AlgoSymbol520300=e.AlgoSymbol520200=e.AlgoSymbol520100=e.AlgoSymbol510100=e.AlgoSymbol29101=e.AlgoSymbol29100=e.AlgoSymbol15200=e.AlgoSymbol15804=void 0;var l=o(11),i=o(10),n=o(9),r=o(8),a=o(7),p=o(6),u=o(5),s=o(4),P=o(3),c=o(2),S=o(1),y=o(0);e.AlgoSymbol15804=l.AlgoSymbol15804,e.AlgoSymbol15200=i.AlgoSymbol15200,e.AlgoSymbol29100=n.AlgoSymbol29100,e.AlgoSymbol29101=r.AlgoSymbol29101,e.AlgoSymbol510100=a.AlgoSymbol510100,e.AlgoSymbol520100=p.AlgoSymbol520100,e.AlgoSymbol520200=u.AlgoSymbol520200,e.AlgoSymbol520300=s.AlgoSymbol520300,e.AlgoSymbol520500=P.AlgoSymbol520500,e.AlgoSymbol530100=c.AlgoSymbol530100,e.AlgoSymbol530200=S.AlgoSymbol530200,e.AlgoSymbol610100=y.AlgoSymbol610100},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YJAlgoSymbolFactory=void 0,o(12);e.YJAlgoSymbolFactory=SuperMap.Plot.YJAlgoSymbolFactory=SuperMap.Plot.YJAlgoSymbolFactory||{};SuperMap.Plot.YJAlgoSymbolFactory.getAlgoSymbol=function(t,e,o){if(999!==t)return new SuperMap.Plot.AlgoSymbol(o);switch(e){case 510100:return new SuperMap.Plot.AlgoSymbol510100(o);case 510200:return new SuperMap.Plot.AlgoSymbol15804(o);case 520100:return new SuperMap.Plot.AlgoSymbol520100(o);case 520200:return new SuperMap.Plot.AlgoSymbol520200(o);case 520300:return new SuperMap.Plot.AlgoSymbol520300(o);case 520400:return new SuperMap.Plot.AlgoSymbol15200(o);case 520500:return new SuperMap.Plot.AlgoSymbol520500(o);case 530100:return new SuperMap.Plot.AlgoSymbol530100(o);case 530200:return new SuperMap.Plot.AlgoSymbol530200(o);case 610100:return new SuperMap.Plot.AlgoSymbol610100(o);case 610200:return new SuperMap.Plot.AlgoSymbol29100(o);case 610300:return new SuperMap.Plot.AlgoSymbol29101(o);default:return new SuperMap.Plot.AlgoSymbol(o)}},SuperMap.Plot.YJAlgoSymbolFactory.isAccessServer=function(t,e){if(999!==t)return!0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return!1;default:return!0}},SuperMap.Plot.YJAlgoSymbolFactory.getSymbolWayType=function(t,e){if(999===t)switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return SuperMap.Plot.AddPoint_WayType.CURVE;default:return SuperMap.Plot.AddPoint_WayType.UNKNOWN}},SuperMap.Plot.YJAlgoSymbolFactory.getDefaultSubSymbols=function(){return[]},SuperMap.Plot.YJAlgoSymbolFactory.getMinEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:case 610200:case 610300:return 2;default:return 0}},SuperMap.Plot.YJAlgoSymbolFactory.getMaxEditPts=function(t,e){if(999!==t)return 0;switch(e){case 510100:case 510200:case 520100:case 520200:case 520300:case 520400:case 520500:case 530100:case 530200:case 610100:return 9999;case 610200:case 610300:return 3;default:return 0}},SuperMap.Plot.YJAlgoSymbolFactory.getDefaultStyle=function(){return{}},SuperMap.Plot.YJAlgoSymbolFactory.canSetSubSymbol=function(t,e){return SuperMap.Plot.AlgoSymbolFactory.getDefaultSubSymbols(t,e).length>0},SuperMap.Plot.YJAlgoSymbolFactory.zoomInCalSymbol=function(){return!1},SuperMap.Plot.YJAlgoSymbolFactory.zoomCalSymbol=function(){return!1}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YJAlgoSymbolFactory=void 0;var l=o(13);e.YJAlgoSymbolFactory=l.YJAlgoSymbolFactory}]);